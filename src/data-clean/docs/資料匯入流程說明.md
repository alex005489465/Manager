# 資料匯入流程說明

## 概述
本文件說明如何將永大夜市Google Maps評論的JSON資料匯入到MySQL資料庫。

## 匯入流程

### 1. 環境準備
- 安裝Python依賴：`mysql-connector-python`、`python-dotenv`
- 設定資料庫連線配置（.env檔案）
- 確保MySQL服務運行並已建立相關資料表

### 2. 使用的腳本

#### import_data.py
- **功能**：讀取50個JSON檔案並匯入到MySQL
- **處理邏輯**：
  - 從第一個JSON檔案提取place_info到search_metadata表
  - 遍歷所有檔案的reviews陣列匯入到reviews表
  - 日期格式轉換（ISO格式→MySQL TIMESTAMP）

#### verify_data.py
- **功能**：驗證匯入結果
- **檢查項目**：資料筆數、內容樣本、日期範圍

#### config.py
- **功能**：資料庫連線配置
- **設定**：主機、端口、使用者、密碼、資料庫名稱

### 3. 配置檔案

#### .env.example
```
MYSQL_ROOT_PASSWORD=your_root_password
MYSQL_USER_PASSWORD=your_user_password
MYSQL_PORT=3306
```

### 4. 執行步驟
1. 複製 `.env.example` 為 `.env` 並設定正確密碼
2. 安裝依賴：`pip install -r requirements.txt`
3. 執行匯入：`python import_data.py`
4. 驗證結果：`python verify_data.py`

### 5. 匯入結果
- **search_metadata表**：1筆記錄（永大夜市基本資訊）
- **reviews表**：988筆評論資料
- **時間範圍**：2015-10-01 至 2025-09-20
- **地點評分**：4.2分

## 注意事項
- 使用專用資料庫使用者 `manager_reviews_user`
- 支援MySQL 9.4.0版本
- 日期時間自動轉換為MySQL格式
- 使用批次匯入提升效能