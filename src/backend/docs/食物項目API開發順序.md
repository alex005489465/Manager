# 食物項目API開發順序

## 🎯 開發策略
按照由底層到上層的順序開發，確保每個層級都能正常工作後再進行下一層

## 📋 開發順序

### 1. 錯誤處理調整 (第一優先)
**目標**: 調整現有錯誤處理機制符合新API需求
- 檢查並修改 `ErrorCode.java` 中的錯誤碼格式（使用數字編碼）
- 確認 `GlobalExceptionHandler.java` 的錯誤回應格式
- 新增食物項目API相關的錯誤碼定義

### 2. 資料庫配置層 (第二優先)
**目標**: 建立多資料源配置
- 建立 `DatabaseConfig.java`
- 配置主資料庫和評論資料庫的資料源
- 測試連線確保能存取 `manager_reviews_db`

### 3. 實體層 (第三優先)
**目標**: 建立資料表對應的實體類別
- 建立 `ExtractedFoodItem.java` 實體
- 使用 `@Table` 指定正確的資料庫和表名
- 定義所有欄位對應關係

### 4. 資料存取層 (第四優先)
**目標**: 實現資料查詢功能
- 建立 `ExtractedFoodItemRepository.java`
- 實作基本的查詢方法（分頁、篩選、搜尋）
- 容器內測試基本查詢功能

### 5. 資料傳輸層 (第五優先)
**目標**: 定義API輸入輸出格式
- 建立 `FoodItemQueryRequest.java` - 查詢請求參數
- 建立 `FoodItemDTO.java` - 回應資料格式
- 建立 `PagedResponse.java` - 分頁回應格式

### 6. 業務邏輯層 (第六優先)
**目標**: 實現核心業務邏輯
- 建立 `ExtractedFoodItemService.java`
- 實作查詢、篩選、搜尋邏輯
- 處理分頁轉換和資料轉換

### 7. API控制層 (第七優先)
**目標**: 提供對外API端點
- 建立 `FoodItemController.java`
- 實作 `GET /api/food-items` 端點
- 整合查詢參數和回應格式

### 8. 整合測試 (最後進行)
**目標**: 驗證完整功能
- 容器內編譯測試
- API功能測試（使用curl）
- 程式碼品質檢查

## ⚡ 開發原則
1. **逐層開發** - 確保下層穩定後再開發上層
2. **及時測試** - 每完成一層都進行基本測試
3. **容器內操作** - 所有編譯測試都在容器內執行
4. **遵循架構** - 嚴格按照現有專案架構模式開發