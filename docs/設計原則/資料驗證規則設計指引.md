# 資料驗證規則設計指引

## 📋 設計原則

**核心原則：**
- 不含具體程式碼，專注於驗證規則設計標準
- **無約束資料庫設計**：資料庫不設定任何約束，由應用程式層負責驗證
- **應用程式層驗證**：所有資料驗證邏輯在後端應用程式中實現
- **靈活性優先**：支援業務需求快速變更，避免資料庫層約束限制

## ✅ 基礎驗證標準

### **必填欄位驗證**
- 不可為 NULL 或空字串
- 去除前後空白後進行檢查
- 提供清晰的使用者友善錯誤訊息

### **格式與型別驗證**
- 確認資料符合預期資料型別
- 統一去除前後空白字元
- 檢查資料長度符合業務規範
- 統一返回驗證結果格式

## 🚨 業務邏輯驗證

### **重複性處理**
- 預設允許資料重複（符合無約束設計）
- 可提供重複警告，但不強制阻止
- 處理重複資料時建立顯示優先級策略

### **關聯完整性檢查**
- 刪除前檢查是否被其他實體引用
- 更新時考慮對相關實體的影響
- 定期清理無效的資料引用

## 📊 驗證錯誤處理

### **錯誤回應格式**
- 包含成功狀態標記與錯誤清單
- 錯誤欄位：發生錯誤的欄位名稱
- 錯誤訊息：使用者友善的錯誤說明文字
- 錯誤代碼：系統內部錯誤代碼便於程式處理
- 統一使用JSON格式回傳驗證結果

---

**版本：** v2.0.0
**建立日期：** 2025-09-01
**最後更新：** 2025-09-20
**重大變更：** 精簡架構 - 聚焦設計核心，移除實作細節
**狀態：** ✅ 資料驗證規則設計指引完成